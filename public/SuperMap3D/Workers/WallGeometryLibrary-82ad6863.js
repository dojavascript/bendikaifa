define(["exports","./arrayRemoveDuplicates-5016d6bb","./Cartographic-630e5de6","./defaultValue-2110bb17","./Math-cd1437d9","./PolylinePipeline-9d07300c","./GeometryAttribute-36384495","./PrimitiveType-3f9684f7","./Cartesian3-c1138337"],(function(e,t,r,i,o,n,a,s,h){"use strict";var l={};function g(e,t){return o.e.equalsEpsilon(e.latitude,t.latitude,o.e.EPSILON10)&&o.e.equalsEpsilon(e.longitude,t.longitude,o.e.EPSILON10)}var u=new r.a,c=new r.a;var m=new Array(2),p=new Array(2),y={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};function v(e,t){for(var r=new Array(e.length),i=0;i<e.length;i+=3){var o=new h.o(e[i],e[i+1],e[i+2]);s.y.multiplyByPoint(t,o,o),r[i]=o.x,r[i+1]=o.y,r[i+2]=o.z}return r}l.computePositions=function(e,l,A,d,w,f,P){var b=function(e,o,n,a){var s=(o=t.D(o,h.o.equalsEpsilon)).length;if(!(s<2)){var l=i.e(a),m=i.e(n),p=!0,y=new Array(s),v=new Array(s),A=new Array(s),d=o[0];y[0]=d;var w=e.cartesianToCartographic(d,u);m&&(w.height=n[0]),p=p&&0==w.height,v[0]=w.height,A[0]=l?a[0]:0;for(var f=1,P=1;P<s;++P){var b=o[P],F=e.cartesianToCartographic(b,c);m&&(F.height=n[P]),p=p&&0==F.height,g(w,F)?w.height<F.height&&(v[f-1]=F.height):(y[f]=b,v[f]=F.height,A[f]=l?a[P]:0,r.a.clone(F,w),++f)}if(!(p||f<2))return y.length=f,v.length=f,A.length=f,{positions:y,topHeights:v,bottomHeights:A}}}(e,l,A,d);if(i.e(b)){var F=a.m.eastNorthUpToFixedFrame(b.positions[0],e,new s.y),C=s.y.inverse(F,new s.y);l=b.positions,A=b.topHeights,d=b.bottomHeights;var E,x,D,H,T=l.length,q=T-2,L=o.e.chordLength(w,e.maximumRadius),N=y;if(N.minDistance=L,N.ellipsoid=e,f){var O,I=0;for(O=0;O<T-1;O++)I+=n.m.numberOfPoints(l[O],l[O+1],L)+1;E=new Float64Array(3*I),x=new Float64Array(3*I),i.e(P)&&(D=new Float64Array(3*I),H=new Float64Array(3*I));var R=m,S=p;N.positions=R,N.height=S;var z=0;for(O=0;O<T-1;O++){R[0]=l[O],R[1]=l[O+1],S[0]=A[O],S[1]=A[O+1];var B=n.m.generateArc(N);E.set(B,z),i.e(P)&&D.set(v(B,C),z),S[0]=d[O],S[1]=d[O+1],x.set(n.m.generateArc(N),z),i.e(P)&&H.set(v(n.m.generateArc(N),C),z),z+=B.length}}else N.positions=l,N.height=A,E=new Float64Array(n.m.generateArc(N)),i.e(P)&&(D=new Float64Array(v(n.m.generateArc(N)))),N.height=d,x=new Float64Array(n.m.generateArc(N)),i.e(P)&&(H=new Float64Array(v(n.m.generateArc(N))));var G={pos:{bottomPositions:x,topPositions:E,numCorners:q}};return i.e(P)&&(G.localPos={bottomPositions:H,topPositions:D,numCorners:q}),G}},e.D=l}));
